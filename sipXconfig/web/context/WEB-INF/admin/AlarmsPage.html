<div jwcid="@common/Border" useDojo="true">
  <h2><span key="title">Configuration for Alarms</span></h2>
  <span jwcid="@common/ErrorMsg" />
  <span jwcid="@common/QuickHelp" value="message:quick.help" />
  <form jwcid="@Form" id="configAlarmForm" delegate="bean:validator">
    <ul class="component-links">
      <li jwcid="@common/ToggleLink" toggle="ognl:advanced"></li>
    </ul>
    <fieldset>
      <table>
        <tbody>
	      <tr jwcid="@common/FieldPanel" for="enableEmailNotification" field="component:enableEmailNotification"
		      label="message:label.enableAlarmServerEmailNotification">
            <span jwcid="enableEmailNotification@Checkbox" id="enableEmailNotification"
              value="ognl:alarmServer.emailNotificationEnabled"/>
          </tr>
          <div jwcid="@If" condition="ognl:advanced" renderTag="false">
            <tr jwcid="@common/FieldPanel" for="fromEmailAddress"
              field="ognl:components.fromEmailAddress" label="message:label.fromEmailAddress">
              <span jwcid="fromEmailAddress@TextField" id="fromEmailAddress"
                value="ognl:alarmServer.fromEmailAddress"
                displayName="message:label.fromEmailAddress"/>
            </tr>
          </div>
        </tbody>
      </table>
    </fieldset>
    <div jwcid="@common/QuickHelp" value="message:help.emailNotificationContacts"/>
	<fieldset jwcid="@common/ListPanel"
      label="message:label.emailNotificationContacts"
      addLinkLabel="message:link.addEmail"
      itemDisplayName="message:label.email"
      validators="spring-validators:required>"
      source="ognl:alarmServer.contacts.addresses"/>
	<fieldset jwcid="@If" condition="ognl:advanced">
	  <legend><span key="label.alarms"/></legend>
      <div jwcid="@admin/AlarmTypes" validator="bean:validator"
         selections="ognl:selections"
         alarms="ognl:alarms"/>
    </fieldset>
    <ul jwcid="formActions@common/FormActions" listener="listener:activate"/>
  </form>
</div>
